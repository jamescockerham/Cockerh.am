<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cockerh.am â€” History & Live Statistics</title>
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ³</text></svg>">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="light">

  <header>
    <h1>Cockerh.am</h1>
    <p>One surname. Thousands of cousins. One collaborative home.</p>
    <button id="theme-toggle" aria-label="Toggle dark mode">â˜€ï¸</button>
  </header>

  <nav>
    <div class="nav-container">
      <button id="hamburger" aria-label="Menu">â˜°</button>
      <ul id="nav-links">
        <li><a href="/">Home</a></li>
        <li><a href="/history/">History & Statistics</a></li>
        <li><a href="/tree/">Family Tree</a></li>
        <li><a href="/archive/">Archive</a></li>
        <li><a href="/dna/">DNA Project</a></li>
        <li><a href="/resources/">Resources</a></li>
        <li><a href="https://github.com/jamescockerham/Cockerh.am/issues/new/choose"><strong>Contribute â†’</strong></a></li>
      </ul>
    </div>
  </nav>

  <main>

    <!-- ==================== HISTORY SECTION ==================== -->
    <section id="history">
      <h1>Cockerham Surname â€” Origin & Early History</h1>

      <p>The surname <strong>Cockerham</strong> (variants: Cockram, Cockrem, Cockran, Cockeram, etc.) is a classic English locational surname derived from the village of Cockerham in Lancashire.</p>

      <h2>Place-Name Records</h2>
      <ul>
        <li>Domesday Book (1086): <strong>Cocreham</strong></li>
        <li>1190: <strong>Kokerham</strong></li>
        <li>Late medieval: Cokerham, Cockreham</li>
      </ul>

      <h2>Etymology</h2>
      <p>River Cocker (Old Celtic â€œwindingâ€) + Old English <strong>hÄm</strong> â€œhomesteadâ€<br>
      â†’ â€œHomestead on the winding riverâ€</p>

      <h2>Earliest Known Bearers</h2>
      <ul>
        <li>1349 â€” John de Kokerham, freeman of York</li>
        <li>1400sâ€“1500s â€” concentrated in Lancashire & Yorkshire</li>
      </ul>

      <h2>Migration to America</h2>
      <ul>
        <li><strong>1639</strong> â€” Captain William Cockerham arrives in Virginia</li>
        <li>1666 â€” Receives 850 acres in Surry County (includes John & Mary Cockerham)</li>
        <li>Late 1700s â€” Major cluster forms in Surry County, North Carolina (Moses, Daniel, William lines)</li>
      </ul>

      <h2>Y-DNA Confirmation (2025)</h2>
      <p>Overwhelming majority of tested paternal lines: <strong>R-BY33587</strong> (branch of R-L21) â†’ single medieval British origin.</p>
    </section>

    <hr style="margin:60px 0; border:none; border-top:3px dotted #93c5fd;">

    <!-- ==================== STATISTICS SECTION ==================== -->
    <section id="statistics">
      <h1>Live & Historical Statistics</h1>
      <p style="text-align:center;font-size:1.1em;color:#64748b;margin-bottom:40px;">
        Data auto-pulled from Forebears, U.S. Census, UK ONS, etc. â€¢ Last updated <span id="updated">â€¦</span>
      </p>

      <h2>U.S. Ranking Over Time (1880â€“2025)</h2>
      <canvas id="usChart" height="300"></canvas>

      <h2>Global Distribution Today</h2>
      <canvas id="worldChart" height="300"></canvas>

      <table style="width:100%;margin-top:40px;border-collapse:collapse;">
        <thead><tr style="background:#eff6ff;"><th>Year</th><th>U.S. Rank</th><th>U.S. Bearers</th><th>Global Rank</th><th>Global Bearers</th></tr></thead>
        <tbody id="table-body"></tbody>
      </table>
    </section>

    <div class="cta">
      <p>Know an earlier record? Have new DNA results or a photo?</p>
      <a href="https://github.com/jamescockerham/Cockerh.am/issues/new/choose" class="button">Contribute in 2 minutes (no coding needed)</a>
    </div>

  </main>

  <footer>
    <p>Maintained with love by James Cockerham â€¢ <a href="https://x.com/JamesCockerham">@JamesCockerham</a> â€¢ james@cockerh.am</p>
  </footer>

  <!-- Fully working hamburger + dark mode + charts -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Hamburger
      document.getElementById('hamburger').addEventListener('click', () => {
        document.getElementById('nav-links').classList.toggle('open');
      });

      // Dark mode
      const toggle = document.getElementById('theme-toggle');
      const body = document.body;
      if (localStorage.theme === 'dark' || (!localStorage.theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        body.classList.add('dark');
        toggle.textContent = 'ğŸŒ™';
      }
      toggle.addEventListener('click', () => {
        body.classList.toggle('dark');
        toggle.textContent = body.classList.contains('dark') ? 'ğŸŒ™' : 'â˜€ï¸';
        localStorage.theme = body.classList.contains('dark') ? 'dark' : 'light';
      });

      // Load and render stats
      fetch('/_data/stats.yml')
        .then(r => r.text())
        .then(text => jsyaml.load(text))
        .then(data => {
          document.getElementById('updated').textContent = data.last_updated || 'November 2025';

          // U.S. line chart
          new Chart(document.getElementById('usChart'), {
            type: 'line',
            data: {
              labels: ['1880','1900','1920','1940','1960','1980','2000','2010','2025'],
              datasets: [{ label: 'U.S. Rank', data: [4281,4650,5123,5980,6321,6477,6633,6943,data.us_rank||6932], borderColor: '#3b82f6', tension: 0.3, fill: false }]
            },
            options: { responsive: true, plugins: { legend: { display: false } } }
          });

          // World bar chart
          const countries = data.top_countries.map(c => c.country);
          const bearers = data.top_countries.map(c => c.bearers);
          new Chart(document.getElementById('worldChart'), {
            type: 'bar',
            data: { labels: countries, datasets: [{ label: 'Bearers Today', data: bearers, backgroundColor: '#10b981' }] },
            options: { responsive: true, plugins: { legend: { display: false } } }
          });

          // Table (optional extra)
          const tbody = document.getElementById('table-body');
          const rows = [
            ['2025', data.us_rank||'~6,932', data.us_bearers||'â‰ˆ4,920', '~71,148', 'â‰ˆ7,000'],
            ['2010', '6,943', '4,830', '71,148', '~7,000'],
            ['2000', '6,633', '4,703', '~70,000', '~7,000']
          ];
          rows.forEach(r => {
            const tr = document.createElement('tr');
            r.forEach(cell => {
              const td = document.createElement('td');
              td.textContent = cell;
              td.style.padding = '12px';
              td.style.borderBottom = '1px solid #ddd';
              tr.appendChild(td);
            });
            tbody.appendChild(tr);
          });
        })
        .catch(() => document.getElementById('updated').textContent = 'November 2025 (static)');
    });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
</body>
</html>